<!DOCTYPE html>
<html>

<body>
    <h1>Chat avec GPT</h1>
    <textarea id="userInput"></textarea>
    <button onclick="sendMessage()">Envoyer</button>
    <div id="response"></div>

    <script>
        async function sendMessage() {
            const message = document.getElementById("userInput").value;

            const res = await fetch("/chat", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({ message }),
            });

            const data = await res.json();
            document.getElementById("response").innerText = data.reply;
        }
    </script>
</body>

</html>